<!DOCTYPE html>
<html lang="en">
<head>
	<title> Emoji Person Generator </title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	  <link rel = "stylesheet" href = "style.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<div class = "heading">
	<h2> Emoji Person Generator 🤓 </h2>
	<h5>Click 'Generate' and we'll generate a random emoji person for you! 🍉 </g5>
</div>
 

<div class="container">
  <div class="row">
    <div class="col text-center">

		<button class = "button-34" onclick="generatePerson()"> Generate </button>

    </div>
  </div>
</div>

<div id="card">
	 <div class="card-body">
	 	<div class = "emojiContainer">

	 		<div class="container">
			  <div class="row">
			    <div class="col text-center">
			    	<div class = "centre-emoji">
					<div id= "mainPerson">
					</div>
					</div>
				</div>
			  </div>
			</div>
		</div>
	</div>
</div>


<div class="container">
  <div class="row">
    <div class="col text-center">

		<button class = "button-34" id = "copyClipboard" onclick="CopyToClipboard('mainPerson')"> Copy to Clipboard! </button>

    </div>
  </div>
</div>

<br>
<br>
<br>

<script>

	function generatePerson() {

	var flag = 1;

	//database
	const hat_array = ["🎩", "🧢", "🎓", "👒", "👑"];
	const head_array = ["😁", "😒", "😎", "🥺", "😍", "🥳", "🤓", "🤮", "😩", "🥲", "😂", "😉", "😵‍💫", "😷"];
	const onesies_array = ["👘", "🥻"];
	const hands_array = ["👋","✌️", "🖕", "🤙", "👊", "🤘", "🤌", "🤳","👍"];
	const shirt_array = ["🥼","👕", "🦺", "🥋", "🎽", "👚", "🧥"];
	const bottom_array = ["👖", "🩳<br>🦵🦵", "🩲<br>🦵🦵"];
	const shoes_array = ["👞", "👠","🛼","👡","🩴","👟","🥾", "👢","🥿","⛸"];

	const leg_eligible_onesies = ["👙","👗"];
	
	//randomise and choose each emoji
	var hat = hat_array[Math.floor(Math.random()*hat_array.length)];
	var head = head_array[Math.floor(Math.random()*head_array.length)];
	var onesies = onesies_array[Math.floor(Math.random()*onesies_array.length)];
	var hand = hands_array[Math.floor(Math.random()*hands_array.length)];
	var shirt = shirt_array[Math.floor(Math.random()*shirt_array.length)];
	var bottom = bottom_array[Math.floor(Math.random()*bottom_array.length)];
	var shoes = shoes_array[Math.floor(Math.random()*shoes_array.length)];

	var top_array = [onesies, shirt];
	var top = top_array[Math.floor(Math.random()*top_array.length)];
	console.log(top);

	var is_onesie = false;
	for (var i = 0; i < onesies_array.length; i++) {
		if (onesies_array[i] == top) {
			is_onesie = true;
			break;
		}
	}

	if (is_onesie) {
		console.log("onesie");
		var main_person= hat + "<br>" + head + "<br>" + top + " " + "<br>" +  shoes + shoes;
	} else {
		console.log("shirt and bottom");
		var main_person = hat + "<br>" + head + "<br>" + shirt + " " + hand + "<br>" + bottom + "<br>" +  shoes + shoes;
	}

	//key line to write main emoji person onto the screen

	var elem = document.getElementById('mainPerson').innerHTML = main_person;
	document.getElementById('card').style.display = "block";
	document.getElementById('copyClipboard').style.display = "block";

	}

	function CopyToClipboard(containerid) {
	  if (document.selection) {
	    var range = document.body.createTextRange();
	    range.moveToElementText(document.getElementById(containerid));
	    range.select().createTextRange();
	    document.execCommand("copy");
	  } else if (window.getSelection) {
	    var range = document.createRange();
	    range.selectNode(document.getElementById(containerid));
	    window.getSelection().addRange(range);
	    document.execCommand("copy");
	    alert("Your Emoji Person has been copied to clipboard 🤙")
	  }
	}

</script>

</body>
</html>